<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>富文本 CKEditor 5 | Umeet-blog</title>
    <meta name="generator" content="VuePress 1.5.0">
    
    <meta name="description" content="集合脚手架, Vue开发模版, 代码规范, 工作流规范, 前端相关组件, 接口管理平台系统等, 旨在统一前端开发流程, 开发规范, 减少前端重复造轮子, 提升前端开发效率和代码质量">
    <link rel="preload" href="/blog/assets/css/0.styles.a2346270.css" as="style"><link rel="preload" href="/blog/assets/js/app.b9157d90.js" as="script"><link rel="preload" href="/blog/assets/js/2.536c8a71.js" as="script"><link rel="preload" href="/blog/assets/js/9.43eff6d8.js" as="script"><link rel="preload" href="/blog/assets/js/4.89b0f3d5.js" as="script"><link rel="prefetch" href="/blog/assets/js/10.ed1640e0.js"><link rel="prefetch" href="/blog/assets/js/11.f094b1f5.js"><link rel="prefetch" href="/blog/assets/js/12.df4c79e7.js"><link rel="prefetch" href="/blog/assets/js/13.ced5678e.js"><link rel="prefetch" href="/blog/assets/js/14.d196a903.js"><link rel="prefetch" href="/blog/assets/js/15.fbb5c01a.js"><link rel="prefetch" href="/blog/assets/js/16.486c2abf.js"><link rel="prefetch" href="/blog/assets/js/17.1f1facef.js"><link rel="prefetch" href="/blog/assets/js/18.75b3e815.js"><link rel="prefetch" href="/blog/assets/js/19.044d87cf.js"><link rel="prefetch" href="/blog/assets/js/20.f7ba0dac.js"><link rel="prefetch" href="/blog/assets/js/21.53a96194.js"><link rel="prefetch" href="/blog/assets/js/22.1db33296.js"><link rel="prefetch" href="/blog/assets/js/23.2e0696f9.js"><link rel="prefetch" href="/blog/assets/js/24.7c2e0d9d.js"><link rel="prefetch" href="/blog/assets/js/25.26cb7671.js"><link rel="prefetch" href="/blog/assets/js/26.7f7dee04.js"><link rel="prefetch" href="/blog/assets/js/27.76489536.js"><link rel="prefetch" href="/blog/assets/js/28.35d24cbb.js"><link rel="prefetch" href="/blog/assets/js/29.d4766d9c.js"><link rel="prefetch" href="/blog/assets/js/3.e98c34f9.js"><link rel="prefetch" href="/blog/assets/js/30.52d65a28.js"><link rel="prefetch" href="/blog/assets/js/31.81f793d0.js"><link rel="prefetch" href="/blog/assets/js/32.b41e24f2.js"><link rel="prefetch" href="/blog/assets/js/33.cf70a0cd.js"><link rel="prefetch" href="/blog/assets/js/34.46dcc70b.js"><link rel="prefetch" href="/blog/assets/js/35.4ede7942.js"><link rel="prefetch" href="/blog/assets/js/36.49ee5e78.js"><link rel="prefetch" href="/blog/assets/js/5.aafe72ea.js"><link rel="prefetch" href="/blog/assets/js/6.84c49b84.js"><link rel="prefetch" href="/blog/assets/js/7.4314ede3.js"><link rel="prefetch" href="/blog/assets/js/8.948fcc8f.js">
    <link rel="stylesheet" href="/blog/assets/css/0.styles.a2346270.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/blog/" class="home-link router-link-active"><!----> <span class="site-name">Umeet-blog</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/blog/guide/" class="nav-link">
  指南
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="功能" class="dropdown-title"><span class="title">功能</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/components/richtext.html" class="nav-link router-link-exact-active router-link-active">
  富文本
</a></li><li class="dropdown-item"><!----> <a href="/blog/components/clipboard.html" class="nav-link">
  复制粘贴
</a></li><li class="dropdown-item"><!----> <a href="/blog/components/clipboard.html" class="nav-link">
  Daypilot-会议室大盘
</a></li><li class="dropdown-item"><!----> <a href="/blog/components/clipboard.html" class="nav-link">
  FullCanlendar-移动端会议室选择器
</a></li><li class="dropdown-item"><!----> <a href="/blog/components/clipboard.html" class="nav-link">
  Canlendar-日期
</a></li><li class="dropdown-item"><!----> <a href="/blog/components/clipboard.html" class="nav-link">
  单点登录
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="相关系统" class="dropdown-title"><span class="title">相关系统</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/ecology/scaffold.html" class="nav-link">
  脚手架工具
</a></li><li class="dropdown-item"><!----> <a href="/blog/ecology/onpm.html" class="nav-link">
  NPM镜像仓库
</a></li><li class="dropdown-item"><!----> <a href="/blog/ecology/yapi.html" class="nav-link">
  接口管理平台
</a></li><li class="dropdown-item"><!----> <a href="/blog/ecology/sentry.html" class="nav-link">
  前端错误统计平台
</a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/blog/guide/" class="nav-link">
  指南
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="功能" class="dropdown-title"><span class="title">功能</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/components/richtext.html" class="nav-link router-link-exact-active router-link-active">
  富文本
</a></li><li class="dropdown-item"><!----> <a href="/blog/components/clipboard.html" class="nav-link">
  复制粘贴
</a></li><li class="dropdown-item"><!----> <a href="/blog/components/clipboard.html" class="nav-link">
  Daypilot-会议室大盘
</a></li><li class="dropdown-item"><!----> <a href="/blog/components/clipboard.html" class="nav-link">
  FullCanlendar-移动端会议室选择器
</a></li><li class="dropdown-item"><!----> <a href="/blog/components/clipboard.html" class="nav-link">
  Canlendar-日期
</a></li><li class="dropdown-item"><!----> <a href="/blog/components/clipboard.html" class="nav-link">
  单点登录
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="相关系统" class="dropdown-title"><span class="title">相关系统</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/ecology/scaffold.html" class="nav-link">
  脚手架工具
</a></li><li class="dropdown-item"><!----> <a href="/blog/ecology/onpm.html" class="nav-link">
  NPM镜像仓库
</a></li><li class="dropdown-item"><!----> <a href="/blog/ecology/yapi.html" class="nav-link">
  接口管理平台
</a></li><li class="dropdown-item"><!----> <a href="/blog/ecology/sentry.html" class="nav-link">
  前端错误统计平台
</a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/blog/components/richtext.html" class="active sidebar-link">富文本</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/components/richtext.html#快速使用" class="sidebar-link">快速使用</a></li><li class="sidebar-sub-header"><a href="/blog/components/richtext.html#ckeditor-5-builds" class="sidebar-link">CKEditor 5 Builds</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/components/richtext.html#可用的-builds" class="sidebar-link">可用的 Builds</a></li><li class="sidebar-sub-header"><a href="/blog/components/richtext.html#安装-2" class="sidebar-link">安装</a></li><li class="sidebar-sub-header"><a href="/blog/components/richtext.html#使用" class="sidebar-link">使用</a></li><li class="sidebar-sub-header"><a href="/blog/components/richtext.html#在本地组件使用" class="sidebar-link">在本地组件使用</a></li></ul></li><li class="sidebar-sub-header"><a href="/blog/components/richtext.html#api" class="sidebar-link">API</a></li><li class="sidebar-sub-header"><a href="/blog/components/richtext.html#插件安装" class="sidebar-link">插件安装</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/components/richtext.html#向已有builds添加插件" class="sidebar-link">向已有builds添加插件</a></li><li class="sidebar-sub-header"><a href="/blog/components/richtext.html#icomm-editor" class="sidebar-link">icomm-editor</a></li></ul></li></ul></li><li><a href="/blog/components/clipboard.html" class="sidebar-link">复制粘贴</a></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="富文本-ckeditor-5"><a href="#富文本-ckeditor-5" class="header-anchor">#</a> 富文本 CKEditor 5</h1> <img src="/blog/assets/img/ckEditor.00e31433.png"> <h2 id="快速使用"><a href="#快速使用" class="header-anchor">#</a> 快速使用</h2> <blockquote><p>当前基于 ckeditor5 Document editor builds 集成部分插件，以满足项目需求。可直接通过<code>onpm</code>私有仓库快速下载<code>icomm-editor</code>安装使用</p></blockquote> <h4 id="安装"><a href="#安装" class="header-anchor">#</a> 安装</h4> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token function">npm</span> <span class="token function">install</span> -g nrm
nrm <span class="token function">add</span> onpm http://onpm.adc.com
nrm use onpm
<span class="token function">npm</span> <span class="token function">install</span> icomm-editor
</code></pre></div><h4 id="调用"><a href="#调用" class="header-anchor">#</a> 调用</h4> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>app<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ckeditor</span> <span class="token attr-name">:editor</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>editor<span class="token punctuation">&quot;</span></span> <span class="token attr-name">@ready</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>onReady<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ckeditor</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  <span class="token keyword">import</span> CKEditor <span class="token keyword">from</span> <span class="token string">'@ckeditor/ckeditor5-vue'</span>
  <span class="token keyword">import</span> IcommEditor <span class="token keyword">from</span> <span class="token string">'icomm-editor'</span>

  <span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
    name<span class="token operator">:</span> <span class="token string">'ckeditor'</span><span class="token punctuation">,</span>
    components<span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token comment">// Use the &lt;ckeditor&gt; component in this view.</span>
      ckeditor<span class="token operator">:</span> CKEditor<span class="token punctuation">.</span>component
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token punctuation">{</span>
        editor<span class="token operator">:</span> IcommEditor<span class="token punctuation">,</span>
        <span class="token comment">// ...</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    methods<span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token function">onReady</span><span class="token punctuation">(</span> <span class="token parameter">editor</span> <span class="token punctuation">)</span>  <span class="token punctuation">{</span>
        <span class="token comment">// Insert the toolbar before the editable area.</span>
        editor<span class="token punctuation">.</span>ui<span class="token punctuation">.</span><span class="token function">getEditableElement</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>parentElement<span class="token punctuation">.</span><span class="token function">insertBefore</span><span class="token punctuation">(</span>
          editor<span class="token punctuation">.</span>ui<span class="token punctuation">.</span>view<span class="token punctuation">.</span>toolbar<span class="token punctuation">.</span>element<span class="token punctuation">,</span>
          editor<span class="token punctuation">.</span>ui<span class="token punctuation">.</span><span class="token function">getEditableElement</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>使用详情参考<a href="/blog/components/richtext.html#api">API</a>，开发详情参考<a href="/blog/components/richtext.html#icomm-editor">icomm-editor</a></p> <h2 id="ckeditor-5-builds"><a href="#ckeditor-5-builds" class="header-anchor">#</a> CKEditor 5 Builds</h2> <p>CKEditor 5 Builds是一组随时可用的富文本编辑器。每个“builds”都提供一种具有一组功能和默认配置的编辑器类型。可以直接安装使用，并满足常见的编辑用例。</p> <h3 id="可用的-builds"><a href="#可用的-builds" class="header-anchor">#</a> 可用的 Builds</h3> <h4 id="classic-editor"><a href="#classic-editor" class="header-anchor">#</a> Classic editor</h4> <p><code>Classic editor</code> 显示一个带工具栏的盒式编辑区域，该区域位于页面上的特定位置，通常作为表单的一部分，用于向服务器提交某些内容。</p> <ul><li>当用户向下滚动页面时，工具栏当前总是可见的。</li> <li>编辑器内容以内联方式放置在页面中（没有<code>&lt;iframe&gt;</code>元素包围）,更容易设置样式。</li> <li>默认情况下，编辑器会随内容自动增长</li></ul> <p><a href="https://ckeditor.com/docs/ckeditor5/latest/examples/builds/classic-editor.html" target="_blank" rel="noopener noreferrer">classic editor 示例<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <h4 id="inline-editor"><a href="#inline-editor" class="header-anchor">#</a> Inline editor</h4> <p><code>Inline editor</code> 附带一个浮动工具栏，当编辑器聚焦时（例如，通过单击它）该工具栏变为可见。与<code>Classic editor</code>不同，<code>Inline editor</code>不呈现给定的元素，它只是使其可编辑。因此，在创建编辑器之前和之后，编辑内容的样式将完全相同。为用户提供在网页的真实位置编辑内容的可能性，而不是在单独的管理部分中进行编辑</p> <p><a href="https://ckeditor.com/docs/ckeditor5/latest/examples/builds/inline-editor.html" target="_blank" rel="noopener noreferrer">inline editor 示例<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <h4 id="balloon-editor"><a href="#balloon-editor" class="header-anchor">#</a> Balloon editor</h4> <p><code>Balloon editor</code>与<code>Inline editor</code>非常相似。它们之间的区别在于，工具栏显示在所选内容旁边的气球中（当所选内容不为空时）</p> <p><a href="https://ckeditor.com/docs/ckeditor5/latest/examples/builds/balloon-editor.html" target="_blank" rel="noopener noreferrer">balloon editor 示例<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <h4 id="balloon-block-editor"><a href="#balloon-block-editor" class="header-anchor">#</a> Balloon block editor</h4> <p><code>Balloon block editor</code> 本质上是<code>Balloon editor</code>，带有一个额外的块工具栏。允许使用两个工具栏直接在目标位置创建内容
：显示在选定的可编辑文档元素旁边的气球工具栏（提供内联内容格式设置工具）；一个块工具栏，可以使用附加到可编辑内容区域的按钮并跟随文档中的选择进行访问。</p> <p><a href="https://ckeditor.com/docs/ckeditor5/latest/examples/builds/balloon-block-editor.html" target="_blank" rel="noopener noreferrer">balloon block editor 示例<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <h4 id="document-editor"><a href="#document-editor" class="header-anchor">#</a> Document editor</h4> <p><code>Document editor</code>专注于富文本编辑体验，类似于本机字处理器。适合创建文档，这些文档通常在以后打印或导出为pdf文件。</p> <p><a href="https://ckeditor.com/docs/ckeditor5/latest/examples/builds/document-editor.html" target="_blank" rel="noopener noreferrer"> document editor 示例<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <blockquote><p>每个构建都带有一组默认功能及其默认配置。尽管构建试图适应许多用例，但在某些集成中可能仍需要对它们进行调整。后续会详细介绍其使用及配置等</p></blockquote> <h3 id="安装-2"><a href="#安装-2" class="header-anchor">#</a> 安装</h3> <h4 id="各个build对应依赖"><a href="#各个build对应依赖" class="header-anchor">#</a> 各个build对应依赖</h4> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token comment"># Classic editor</span>
<span class="token function">npm</span> <span class="token function">install</span> --save @ckeditor/ckeditor5-build-classic
<span class="token comment"># Inline editor</span>
<span class="token function">npm</span> <span class="token function">install</span> --save @ckeditor/ckeditor5-build-inline
<span class="token comment"># Balloon editor</span>
<span class="token function">npm</span> <span class="token function">install</span> --save @ckeditor/ckeditor5-build-balloon
<span class="token comment"># Balloon block editor</span>
<span class="token function">npm</span> <span class="token function">install</span> --save @ckeditor/ckeditor5-build-balloon-block
<span class="token comment"># Document editor</span>
<span class="token function">npm</span> <span class="token function">install</span> --save @ckeditor/ckeditor5-build-decoupled-document
</code></pre></div><h4 id="vue应用中安装"><a href="#vue应用中安装" class="header-anchor">#</a> vue应用中安装</h4> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token function">npm</span> <span class="token function">install</span> --save @ckeditor/ckeditor5-vue @ckeditor/ckeditor5-build-<span class="token punctuation">[</span>name<span class="token punctuation">]</span>  
<span class="token comment"># name 对应各个build，选择当前需要的编辑器类型</span>
</code></pre></div><h3 id="使用"><a href="#使用" class="header-anchor">#</a> 使用</h3> <blockquote><p>文档以<code>Classic editor</code>为例，其他builds工作方式相同</p></blockquote> <ol><li>CKEditor导入应用</li></ol> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// main.js</span>
<span class="token keyword">import</span> Vue <span class="token keyword">from</span> <span class="token string">'vue'</span>
<span class="token keyword">import</span> CKEditor <span class="token keyword">from</span> <span class="token string">'@ckeditor/ckeditor5-vue'</span>

Vue<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>CKEditor<span class="token punctuation">)</span>
</code></pre></div><ol start="2"><li>应用程序的组件中，引用<code>&lt;ckeditor&gt;</code>组件</li></ol> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>ckeditor<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ckeditor</span> <span class="token attr-name">:editor</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>editor<span class="token punctuation">&quot;</span></span> <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>editorData<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:config</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>editorConfig<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ckeditor</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name"><span class="token namespace">v-on:</span>click</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>emptyEditor()<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>清空<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  <span class="token keyword">import</span> ClassiCKEditor <span class="token keyword">from</span> <span class="token string">'@ckeditor/ckeditor5-build-classic'</span><span class="token punctuation">;</span>

  <span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
    name<span class="token operator">:</span> <span class="token string">'ckeditor'</span><span class="token punctuation">,</span>
    <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token punctuation">{</span>
        editor<span class="token operator">:</span> ClassiCKEditor<span class="token punctuation">,</span>
        editorData<span class="token operator">:</span> <span class="token string">'&lt;p&gt;Content of the editor.&lt;/p&gt;'</span><span class="token punctuation">,</span>
        editorConfig<span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token comment">// The configuration of the editor.</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    methods<span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token function">emptyEditor</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>editorData <span class="token operator">=</span> <span class="token string">''</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h4 id="使用document-editor"><a href="#使用document-editor" class="header-anchor">#</a> 使用Document editor</h4> <p>如果在应用程序中使用<code>Document editor</code>，则需要手动将编辑器工具栏添加到dom中。由于在编辑器实例准备好之前无法访问编辑器工具栏，请将工具栏插入代码放入在组件的ready事件上执行的方法中。如下：</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>app<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ckeditor</span> <span class="token attr-name">:editor</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>editor<span class="token punctuation">&quot;</span></span> <span class="token attr-name">@ready</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>onReady<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ckeditor</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  <span class="token keyword">import</span> DecoupledEditor <span class="token keyword">from</span> <span class="token string">'@ckeditor/ckeditor5-build-decoupled-document'</span><span class="token punctuation">;</span>

  <span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
    name<span class="token operator">:</span> <span class="token string">'app'</span><span class="token punctuation">,</span>
    <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token punctuation">{</span>
        editor<span class="token operator">:</span> DecoupledEditor<span class="token punctuation">,</span>
        <span class="token comment">// ...</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    methods<span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token function">onReady</span><span class="token punctuation">(</span> <span class="token parameter">editor</span> <span class="token punctuation">)</span>  <span class="token punctuation">{</span>
        <span class="token comment">// Insert the toolbar before the editable area.</span>
        editor<span class="token punctuation">.</span>ui<span class="token punctuation">.</span><span class="token function">getEditableElement</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>parentElement<span class="token punctuation">.</span><span class="token function">insertBefore</span><span class="token punctuation">(</span>
          editor<span class="token punctuation">.</span>ui<span class="token punctuation">.</span>view<span class="token punctuation">.</span>toolbar<span class="token punctuation">.</span>element<span class="token punctuation">,</span>
          editor<span class="token punctuation">.</span>ui<span class="token punctuation">.</span><span class="token function">getEditableElement</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h4 id="组件指令"><a href="#组件指令" class="header-anchor">#</a> 组件指令</h4> <ul><li><code>editor</code>：指定组件要使用的编辑器。它必须直接引用要在模板中使用的编辑器构造函数</li> <li><code>v-model</code>：双向数据绑定值。可以用于更改或设置编辑器的初始内容，获取当前编辑器内容</li> <li><code>config</code>：指定编辑器配置，<a href="#editconfig">参数</a></li> <li><code>tag-name</code>：编辑器默认创建一个<code>&lt;div&gt;</code>容器，用作传递给编辑器的元素。可以配置元素类型。例如创建一个<code>&lt;textarea&gt;</code></li></ul> <blockquote><p>CKEditor组件会创建一个不可见元素，存储编辑器内容，默认为<code>&lt;div&gt;</code>，可通过<code>tag-name</code>配置为别的元素</p></blockquote> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ckeditor</span> <span class="token attr-name">:editor</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>editor<span class="token punctuation">&quot;</span></span> <span class="token attr-name">tag-name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>textarea<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ckeditor</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><ul><li><code>value</code>：单向数据绑定。与<code>v-model</code>不同，该值在编辑器内容更改时不会更新。</li></ul> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ckeditor</span> <span class="token attr-name">:editor</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>editor<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>editorData<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ckeditor</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><ul><li><code>disabled</code>：设置编辑器的初始只读状态，并在其生命周期中对其进行更改</li></ul> <blockquote><p>该组件与Vue.js 2.x兼容</p></blockquote> <h4 id="组件事件"><a href="#组件事件" class="header-anchor">#</a> 组件事件</h4> <ul><li><code>ready</code>：当数据和所有其他编辑器组件就绪时激发。<a href="https://ckeditor.com/docs/ckeditor5/latest/api/module_core_editor_editor-Editor.html#event-ready" target="_blank" rel="noopener noreferrer">ready<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul> <blockquote><p>此事件对插件开发人员最有用。在将编辑器与网站或应用程序集成时，不必监听<code>editor#ready</code>，因为在解析<code>editor.create()</code>事件返回时，编辑器已经准备就绪。事实上，由于编辑器实例对您可用的第一个时刻在<code>then()</code>的回调中，您甚至不能向<code>editor#ready</code>添加侦听器。</p></blockquote> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ckeditor</span> <span class="token attr-name">:editor</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>editor<span class="token punctuation">&quot;</span></span> <span class="token attr-name">@ready</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>onEditorReady<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ckeditor</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><ul><li><code>focus</code>：获得焦点时激发。<a href="https://ckeditor.com/docs/ckeditor5/latest/api/module_engine_view_document-Document.html#event-event:focus" target="_blank" rel="noopener noreferrer">focus<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ckeditor</span> <span class="token attr-name">:editor</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>editor<span class="token punctuation">&quot;</span></span> <span class="token attr-name">@focus</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>onEditorFocus<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ckeditor</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><ul><li><code>blur</code>：失去焦点时激发。<a href="https://ckeditor.com/docs/ckeditor5/latest/api/module_engine_view_document-Document.html#event-event:blur" target="_blank" rel="noopener noreferrer">blur<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ckeditor</span> <span class="token attr-name">:editor</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>editor<span class="token punctuation">&quot;</span></span> <span class="token attr-name">@blur</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>onEditorBlur<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ckeditor</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><ul><li><code>input</code>：数据更改时激发。</li></ul> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ckeditor</span> <span class="token attr-name">:editor</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>editor<span class="token punctuation">&quot;</span></span> <span class="token attr-name">@input</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>onEditorInput<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ckeditor</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><ul><li><code>destroy</code>：销毁编辑器事件。<a href="https://ckeditor.com/docs/ckeditor5/latest/api/module_core_editor_editor-Editor.html#event-destroy" target="_blank" rel="noopener noreferrer">destroy<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul> <blockquote><p>因为编辑器的破坏是由promise驱动的，所以可以在实际promise解决之前触发此事件</p></blockquote> <div class="language-html extra-class"><pre class="language-html"><code>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ckeditor</span> <span class="token attr-name">:editor</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>editor<span class="token punctuation">&quot;</span></span> <span class="token attr-name">@destroy</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>onEditorDestroy<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ckeditor</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h4 id="编辑器数据操作"><a href="#编辑器数据操作" class="header-anchor">#</a> 编辑器数据操作</h4> <ul><li><code>setData()</code>：设置编辑器数据</li></ul> <div class="language-js extra-class"><pre class="language-js"><code>editor<span class="token punctuation">.</span><span class="token function">setData</span><span class="token punctuation">(</span> <span class="token string">'&lt;p&gt;Some text.&lt;/p&gt;'</span> <span class="token punctuation">)</span>
</code></pre></div><blockquote><p>Vue.js组件引用编辑器，数据通过<code>v-model</code>双向或<code>value</code>单项绑定，直接更改对应参数的值即可设置编辑器数据，一般情况不会使用的该方法</p></blockquote> <ul><li><code>getData()</code>：获取编辑器内容数据</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> data <span class="token operator">=</span> editor<span class="token punctuation">.</span><span class="token function">getData</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><blockquote><p>Vue.js组件引用编辑器，数据通过<code>v-model</code>双向数据绑定时，直接读取绑定参数的值即编辑器当前内容数据，无需调用该方法。数据通过<code>value</code>单项绑定时，更改编辑器内容，绑定的对应参数值不会更改，需要调用该方法获取编辑器内容</p></blockquote> <ul><li><code>destroy()</code>：销毁编辑器实例</li></ul> <div class="language-js extra-class"><pre class="language-js"><code>editor<span class="token punctuation">.</span><span class="token function">destroy</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span> <span class="token parameter">error</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span> error <span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><blockquote><p>编辑器实例被销毁，其使用的资源将被释放，用于创建编辑器的原始元素将自动显示和更新，以反映最终的编辑器数据。</p></blockquote> <h3 id="在本地组件使用"><a href="#在本地组件使用" class="header-anchor">#</a> 在本地组件使用</h3> <p>如果不希望全局启用<code>ckeditor</code>组件，可以完全跳过<code>vue.use(ckeditor)</code>部分。在视图的“组件”属性中配置它。</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>ckeditor<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ckeditor</span> <span class="token attr-name">:editor</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>editor<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ckeditor</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  <span class="token keyword">import</span> CKEditor <span class="token keyword">from</span> <span class="token string">'@ckeditor/ckeditor5-vue'</span>
  <span class="token keyword">import</span> ClassiCKEditor <span class="token keyword">from</span> <span class="token string">'@ckeditor/ckeditor5-build-classic'</span><span class="token punctuation">;</span>

  <span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
    name<span class="token operator">:</span> <span class="token string">'ckeditor'</span><span class="token punctuation">,</span>
    components<span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token comment">// Use the &lt;ckeditor&gt; component in this view.</span>
      ckeditor<span class="token operator">:</span> CKEditor<span class="token punctuation">.</span>component
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token punctuation">{</span>
        editor<span class="token operator">:</span> ClassiCKEditor<span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h2 id="api"><a href="#api" class="header-anchor">#</a> API</h2> <blockquote><p>以<code>Document editor</code>使用为例</p></blockquote> <ul><li><code>toolbar</code>: 编辑器工具栏</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> config <span class="token operator">=</span> <span class="token punctuation">{</span>
  toolbar<span class="token operator">:</span><span class="token punctuation">[</span><span class="token string">'Heading'</span><span class="token punctuation">,</span> <span class="token string">'|'</span><span class="token punctuation">,</span> <span class="token string">'Blod'</span><span class="token punctuation">,</span><span class="token operator">...</span><span class="token punctuation">.</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li><code>removePlugins</code>：移除编辑器工具栏中的项，编辑器插件</li></ul> <div class="language-js extra-class"><pre class="language-js"><code>  <span class="token keyword">const</span> config <span class="token operator">=</span> <span class="token punctuation">{</span>
    removePlugins<span class="token operator">:</span> <span class="token punctuation">[</span> <span class="token string">'Heading'</span><span class="token punctuation">,</span> <span class="token string">'MediaEmbed'</span><span class="token punctuation">]</span>  <span class="token comment">// 去除标题，多媒体</span>
  <span class="token punctuation">}</span>
</code></pre></div><h4 id="工具栏（toolbar）"><a href="#工具栏（toolbar）" class="header-anchor">#</a> 工具栏（toolbar）</h4> <ul><li><p><code>bold</code>：粗体</p></li> <li><p><code>italic</code>：斜体</p></li> <li><p><code>blockQuote</code>：引用</p></li> <li><p><code>Underline</code>：下划线</p></li> <li><p><code>strikethrough</code>：中划线</p></li> <li><p><code>undo</code>：撤销</p></li> <li><p><code>redo</code>：恢复上一步操作</p></li> <li><p><code>heading</code>：标题</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> config <span class="token operator">=</span> <span class="token punctuation">{</span>
  toolbar<span class="token operator">:</span> <span class="token punctuation">[</span> <span class="token string">'heading'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    heading<span class="token operator">:</span> <span class="token punctuation">{</span>
      options<span class="token operator">:</span> <span class="token punctuation">[</span>   <span class="token comment">// 标题类型定义</span>
        <span class="token punctuation">{</span> model<span class="token operator">:</span> <span class="token string">'paragraph'</span><span class="token punctuation">,</span> title<span class="token operator">:</span> <span class="token string">'Paragraph'</span><span class="token punctuation">,</span> <span class="token keyword">class</span><span class="token operator">:</span> <span class="token string">'ck-heading_paragraph'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span> model<span class="token operator">:</span> <span class="token string">'heading1'</span><span class="token punctuation">,</span> view<span class="token operator">:</span> <span class="token string">'h1'</span><span class="token punctuation">,</span> title<span class="token operator">:</span> <span class="token string">'Heading 1'</span><span class="token punctuation">,</span> <span class="token keyword">class</span><span class="token operator">:</span> <span class="token string">'ck-heading_heading1'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span> model<span class="token operator">:</span> <span class="token string">'heading2'</span><span class="token punctuation">,</span> view<span class="token operator">:</span> <span class="token string">'h2'</span><span class="token punctuation">,</span> title<span class="token operator">:</span> <span class="token string">'Heading 2'</span><span class="token punctuation">,</span> <span class="token keyword">class</span><span class="token operator">:</span> <span class="token string">'ck-heading_heading2'</span> <span class="token punctuation">}</span>
      <span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
</code></pre></div><div class="document-editor" data-v-275c38ca><ckeditor editor="" value="标题" config="[object Object]" data-v-275c38ca></ckeditor></div></li> <li><p><code>Alignment</code>：文本对齐方式：<code>left</code>, <code>right</code>, <code>center</code>, <code>justify</code></p> <ul><li>通过设置<code>alignment.options</code>配置选项，配置对齐下拉选项</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 仅left，right两种对齐方式</span>
<span class="token keyword">const</span> config <span class="token operator">=</span> <span class="token punctuation">{</span>
  toolbar<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token string">'heading'</span><span class="token punctuation">,</span> <span class="token string">'|'</span><span class="token punctuation">,</span><span class="token string">'alignment'</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  alignment<span class="token operator">:</span> <span class="token punctuation">{</span>
    options<span class="token operator">:</span> <span class="token punctuation">[</span> <span class="token string">'left'</span><span class="token punctuation">,</span> <span class="token string">'right'</span> <span class="token punctuation">]</span>
  <span class="token punctuation">}</span>     
<span class="token punctuation">}</span>
</code></pre></div> <div class="document-editor" data-v-275c38ca><ckeditor editor="" value="&lt;p&gt;左对齐&lt;/p&gt;&lt;p style='text-align:right;'&gt;右对齐&lt;/p&gt;" config="[object Object]" data-v-275c38ca></ckeditor></div> <ul><li>对齐方式配置为工具栏按钮</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 仅left，right两种对齐方式</span>
<span class="token keyword">const</span> config <span class="token operator">=</span> <span class="token punctuation">{</span>
  toolbar<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token string">'heading'</span><span class="token punctuation">,</span> <span class="token string">'|'</span><span class="token punctuation">,</span> <span class="token string">'alignment:left'</span><span class="token punctuation">,</span> <span class="token string">'alignment:right'</span><span class="token punctuation">,</span> <span class="token string">'alignment:center'</span><span class="token punctuation">,</span> <span class="token string">'alignment:justify'</span>
  <span class="token punctuation">]</span>     
<span class="token punctuation">}</span>
</code></pre></div> <div class="document-editor" data-v-275c38ca><ckeditor editor="" value="&lt;p&gt;左对齐&lt;/p&gt;&lt;p style='text-align:right;'&gt;右对齐&lt;/p&gt;" config="[object Object]" data-v-275c38ca></ckeditor></div></li> <li><p><code>balloonToolbar</code>：上下文工具栏配置。可用于<code>Balloon editor</code></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> config <span class="token operator">=</span> <span class="token punctuation">{</span>
  balloonToolbar<span class="token operator">:</span> <span class="token punctuation">[</span> <span class="token string">'bold'</span><span class="token punctuation">,</span> <span class="token string">'italic'</span><span class="token punctuation">,</span> <span class="token string">'undo'</span><span class="token punctuation">,</span> <span class="token string">'redo'</span> <span class="token punctuation">]</span> <span class="token comment">// 可用'|'将工具按钮分开   [ 'bold', '|', 'italic', 'undo', 'redo' ]</span>
<span class="token punctuation">}</span>
</code></pre></div></li> <li><p><code>blockToolbar</code>：块工具栏配置。可用于<code>Balloon block editor</code></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> config <span class="token operator">=</span> <span class="token punctuation">{</span>
  blockToolbar<span class="token operator">:</span> <span class="token punctuation">[</span> <span class="token string">'paragraph'</span><span class="token punctuation">,</span> <span class="token string">'heading1'</span><span class="token punctuation">,</span> <span class="token string">'heading2'</span><span class="token punctuation">,</span> <span class="token string">'bulletedList'</span><span class="token punctuation">,</span> <span class="token string">'numberedList'</span> <span class="token punctuation">]</span> <span class="token comment">//也可使用'|'</span>
<span class="token punctuation">}</span>
</code></pre></div></li> <li><p><code>Autoformat</code>：<code>ckeditor 5</code>的自动格式化功能，允许通过键入类似<code>**粗体this**</code>，<code>+ 序列</code>的序列来设置文本的样式。默认支持，无需配置，可通过<code>removePlugins</code>移除</p></li> <li><p><code>extraPlugins</code>：插件扩展。仅适用于使用<a href="https://ckeditor.com/docs/ckeditor5/latest/api/module_core_plugin-PluginInterface.html" target="_blank" rel="noopener noreferrer">插件接口<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>且没有依赖项的简单插件</p></li> <li><p><code>fontBackgroundColor</code>：字体背景颜色配置
<code>colors</code>：定义为字符串或对象数组的可用字体背景色
<code>columns</code>：表示字体背景颜色下拉列表中的列数
<code>documentColors</code>：确定可用文档颜色的最大数目。将其设置为0将禁用文档颜色功能</p></li> <li><p><code>fontColor</code>：字体颜色配置</p></li> <li><p><code>fontFamily</code>：字体类型配置</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> config <span class="token operator">=</span> <span class="token punctuation">{</span>
  fontFamily<span class="token operator">:</span> <span class="token punctuation">{</span>
    options<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token string">'Arial, Helvetica, sans-serif'</span><span class="token punctuation">,</span>
      <span class="token string">'Courier New, Courier, monospace'</span><span class="token punctuation">,</span>
      <span class="token string">'Times New Roman, Times, serif'</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="document-editor" data-v-275c38ca><ckeditor editor="" value="字体设置" config="[object Object]" data-v-275c38ca></ckeditor></div></li> <li><p><code>fontSize</code>：字体大小配置。取值可以为数字，或者 <code>tiny</code>, <code>small</code>, <code>big</code>, <code>huge</code></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> config <span class="token operator">=</span> <span class="token punctuation">{</span>
  fontSize<span class="token operator">:</span> <span class="token punctuation">{</span>
    options<span class="token operator">:</span><span class="token punctuation">[</span>
        <span class="token string">'tiny'</span><span class="token punctuation">,</span>
        <span class="token string">'small'</span><span class="token punctuation">,</span>
        <span class="token string">'default'</span><span class="token punctuation">,</span>
        <span class="token string">'big'</span><span class="token punctuation">,</span>
        <span class="token string">'huge'</span>
    <span class="token punctuation">]</span>
    <span class="token comment">// 或  [ 9, 10, 11, 12, 13, 14, 15 ]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="document-editor" data-v-275c38ca><ckeditor editor="" value="字体大小" config="[object Object]" data-v-275c38ca></ckeditor></div></li> <li><p><code>highlight</code>: 字体高亮设置，<a href="https://ckeditor.com/docs/ckeditor5/latest/api/module_highlight_highlight-HighlightConfig.html#member-options" target="_blank" rel="noopener noreferrer">取值项<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <p>两种方式设置，<code>type</code>取值：</p> <ul><li><code>marker</code>：使用背景色进行样式设置；</li> <li><code>pen</code>：使用字体颜色进行样式设置；样式表定义css类及css变量对应的颜色</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> config <span class="token operator">=</span> <span class="token punctuation">{</span>
  highlight<span class="token operator">:</span> <span class="token punctuation">{</span>
    options<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        model<span class="token operator">:</span> <span class="token string">'yellowMarker'</span><span class="token punctuation">,</span>
        <span class="token keyword">class</span><span class="token operator">:</span> <span class="token string">'marker-yellow'</span><span class="token punctuation">,</span>
        title<span class="token operator">:</span> <span class="token string">'Yellow marker'</span><span class="token punctuation">,</span>
        color<span class="token operator">:</span> <span class="token string">'var(--ck-highlight-marker-yellow)'</span><span class="token punctuation">,</span>
        type<span class="token operator">:</span> <span class="token string">'marker'</span>   <span class="token comment">// 背景色</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        model<span class="token operator">:</span> <span class="token string">'redPen'</span><span class="token punctuation">,</span>
        <span class="token keyword">class</span><span class="token operator">:</span> <span class="token string">'pen-red'</span><span class="token punctuation">,</span>
        title<span class="token operator">:</span> <span class="token string">'Red pen'</span><span class="token punctuation">,</span>
        color<span class="token operator">:</span> <span class="token string">'var(--ck-highlight-pen-red)'</span><span class="token punctuation">,</span>
        type<span class="token operator">:</span> <span class="token string">'pen'</span>   <span class="token comment">// 字体颜色</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="document-editor" data-v-275c38ca><ckeditor editor="" value="&lt;p&gt;&lt;mark class=&quot;marker-yellow&quot;&gt;字体高亮&lt;/mark&gt;&lt;/p&gt;" config="[object Object]" data-v-275c38ca></ckeditor></div> <p><code>highlight</code>也可以将选项直接设置为工具栏按钮</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> config <span class="token operator">=</span> <span class="token punctuation">{</span>
  toolbar<span class="token operator">:</span> <span class="token punctuation">[</span> <span class="token string">'highlight:greenMarker'</span><span class="token punctuation">,</span> <span class="token string">'highlight:greenPen'</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="document-editor" data-v-275c38ca><ckeditor editor="" value="&lt;p&gt;&lt;mark class=&quot;marker-green&quot;&gt;字体高亮&lt;/mark&gt;&lt;/p&gt;" config="[object Object]" data-v-275c38ca></ckeditor></div></li> <li><p><code>removeHighlight</code>：移除高亮项</p></li> <li><p><code>list</code>列表项</p> <ul><li><code>numberedList</code>：有序列表</li> <li><code>bulletedList</code>：无序列表</li> <li><code>todoList</code>：代办列表
<div class="document-editor" data-v-275c38ca><ckeditor editor="" value="&lt;ol&gt;&lt;li&gt;列表项1&lt;/li&gt;&lt;li&gt;列表项2&lt;/li&gt;&lt;li&gt;列表项3&lt;/li&gt;&lt;/ol&gt;" config="[object Object]" data-v-275c38ca></ckeditor></div></li></ul></li> <li><p><code>table</code>：表格，工具栏配置名称<code>insertTable</code></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> config <span class="token operator">=</span> <span class="token punctuation">{</span>
  toolbar<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'heading'</span><span class="token punctuation">,</span> <span class="token string">'|'</span><span class="token punctuation">,</span> <span class="token string">'insertTable'</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li><code>contentToolbar</code>：表单元格内容工具栏，即可通过该工具栏选项对选中的单元格进行操作。取值：<code>tableRow</code>(行操作), <code>tableColumn</code>(列操作), <code>mergeTableCells</code>(单元格合并操作)。默认都有，去除直接定义为空数据<code>[]</code>。</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> config <span class="token operator">=</span> <span class="token punctuation">{</span>
  toolbar<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'heading'</span><span class="token punctuation">,</span> <span class="token string">'|'</span><span class="token punctuation">,</span> <span class="token string">'insertTable'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  table<span class="token operator">:</span> <span class="token punctuation">{</span>
    contentToolbar<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'tableRow'</span><span class="token punctuation">,</span><span class="token string">'tableColumn'</span><span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p><code>tableRow</code>, <code>tableColumn</code>, <code>mergeTableCells</code>可直接定义为编辑器工具栏选项。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> config <span class="token operator">=</span> <span class="token punctuation">{</span>
  toolbar<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'heading'</span><span class="token punctuation">,</span> <span class="token string">'|'</span><span class="token punctuation">,</span> <span class="token string">'insertTable'</span><span class="token punctuation">,</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">tableRow</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">tableColumn</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">mergeTableCells</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li><code>tableToolbar</code>：表格操作工具栏，即选中表格时，可通过该工具栏选项，对表格内容进行操作。取值与<code>toolbar</code>相同。例如取值包含<code>bold</code>，可对表格操作，使其内容字体加粗</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> config <span class="token operator">=</span> <span class="token punctuation">{</span>
  toolbar<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'heading'</span><span class="token punctuation">,</span> <span class="token string">'|'</span><span class="token punctuation">,</span> <span class="token string">'insertTable'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  table<span class="token operator">:</span> <span class="token punctuation">{</span>
    tableToolbar<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'bold'</span><span class="token punctuation">,</span> <span class="token string">'italic'</span><span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="document-editor" data-v-275c38ca><ckeditor editor="" value="表格" config="[object Object]" data-v-275c38ca></ckeditor></div></li></ul> <blockquote><p>注意：当前表格不支持操作表格自定义样式，若需要更改表格样式，可通过更改其css样式，来定义表格样式。</p></blockquote> <ul><li><code>image</code>：图片，工具栏配置名称<code>imageUpload</code>。<div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> config <span class="token operator">=</span> <span class="token punctuation">{</span>
  toolbar<span class="token operator">:</span><span class="token punctuation">[</span><span class="token string">'imageUpload'</span><span class="token punctuation">,</span> <span class="token string">'|'</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span>  
</code></pre></div>需要配置文件上载适配器才可完成图片上传。将图像上载到服务器，然后服务器提供<code>ckeditor 5</code>用于在文档中显示图像的图像url
<ul><li>自定义上载适配器。<a href="https://ckeditor.com/docs/ckeditor5/latest/framework/guides/deep-dive/upload-adapter.html#the-anatomy-of-the-adapter" target="_blank" rel="noopener noreferrer">官方文档<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> <ol><li>自定义上载适配器</li></ol> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">class</span> <span class="token class-name">MyUploadAdapter</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span> <span class="token parameter">loader</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 上载过程中要使用的文件加载程序实例</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>loader <span class="token operator">=</span> loader
  <span class="token punctuation">}</span>

  <span class="token comment">// 启动上载过程，结合项目中axios请求封装</span>
  <span class="token function">upload</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>loader<span class="token punctuation">.</span>file
        <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">file</span> <span class="token operator">=&gt;</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
          <span class="token comment">// 文件上传过程实现,uploadImgRequest为项目中上传图片接口api</span>
          <span class="token comment">/**
           * export function uploadImgFile (data, progress) {
              return request({
                url: '/mp/consoleapi/file/uploadImgFile',
                method: 'post',
                onUploadProgress: progress,   // 接口访问进度
                data
              })
            }
           */</span>
          <span class="token function">uploadImgRequest</span><span class="token punctuation">(</span>data<span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token parameter">evt</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            <span class="token comment">// 上传进度条</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>evt<span class="token punctuation">.</span>lengthComputable<span class="token punctuation">)</span> <span class="token punctuation">{</span>
              <span class="token keyword">this</span><span class="token punctuation">.</span>loader<span class="token punctuation">.</span>uploaded <span class="token operator">=</span> evt<span class="token punctuation">.</span>loaded
              <span class="token keyword">this</span><span class="token punctuation">.</span>loader<span class="token punctuation">.</span>uploadTotal <span class="token operator">=</span> evt<span class="token punctuation">.</span>total
            <span class="token punctuation">}</span>
          <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">res</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
              <span class="token keyword">default</span><span class="token operator">:</span> res<span class="token punctuation">.</span>data<span class="token punctuation">.</span>imgUrl <span class="token comment">// 成功，将接口返回的图片路径赋值给default，将用于显示内容中的图像</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span>
          <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token parameter">err</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            <span class="token function">reject</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span>
          <span class="token punctuation">}</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span> 
    <span class="token punctuation">)</span>
  <span class="token punctuation">}</span>

  <span class="token function">abort</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 中止上载过程</span>
  <span class="token punctuation">}</span> 
<span class="token punctuation">}</span>
</code></pre></div><ol start="2"><li>通过定义<code>filerepository.createUploadAdapter()</code>工厂方法，在编辑器中启用上载适配器。</li></ol> <div class="language-js extra-class"><pre class="language-js"><code>editor<span class="token punctuation">.</span>plugins<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span> <span class="token string">'FileRepository'</span> <span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function-variable function">createUploadAdapter</span> <span class="token operator">=</span> <span class="token parameter">loader</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">MyUploadAdapter</span><span class="token punctuation">(</span> loader <span class="token punctuation">)</span>  <span class="token comment">// MyUploadAdapter 自定义上载适配器</span>
<span class="token punctuation">}</span>
</code></pre></div></li> <li>可集成<code>CKFinder</code>使用，涉及到后端配置，不做介绍。<a href="https://ckeditor.com/docs/ckeditor5/latest/features/image-upload/ckfinder.html" target="_blank" rel="noopener noreferrer">官方文档<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> <div class="document-editor" data-v-275c38ca><ckeditor editor="" value="图片" config="[object Object]" data-v-275c38ca></ckeditor></div></li></ul></li> <li><code>iamgeStyle</code>：图片样式，这只图片显示方式<div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> config <span class="token operator">=</span> <span class="token punctuation">{</span>
  toolbar<span class="token operator">:</span><span class="token punctuation">[</span><span class="token string">'imageUpload'</span><span class="token punctuation">,</span> <span class="token string">'|'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  image<span class="token operator">:</span> <span class="token punctuation">{</span>
    styles<span class="token operator">:</span> <span class="token punctuation">[</span> <span class="token string">'full'</span><span class="token punctuation">,</span> <span class="token string">'side'</span> <span class="token punctuation">]</span>  <span class="token comment">// full：不使用任何样式</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span> 
</code></pre></div></li> <li><code>placeholder</code>：编辑器没有内容时显示的提示文本</li> <li><code>link</code>：<a href="https://ckeditor.com/docs/ckeditor5/latest/api/module_link_link-LinkConfig.html" target="_blank" rel="noopener noreferrer">链接<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><code>MediaEmbed</code>：<a href="https://ckeditor.com/docs/ckeditor5/latest/api/module_media-embed_mediaembed-MediaEmbedConfig.html" target="_blank" rel="noopener noreferrer">多媒体<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><code>plugins</code>：需要加载的<a href="https://ckeditor.com/docs/ckeditor5/latest/api/module_core_editor_editorconfig-EditorConfig.html#member-plugins" target="_blank" rel="noopener noreferrer">插件列表<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><code>language</code>：语言<a href="https://ckeditor.com/docs/ckeditor5/latest/api/module_core_editor_editorconfig-EditorConfig.html#member-language" target="_blank" rel="noopener noreferrer">设置<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul> <h4 id="工具栏可配置项"><a href="#工具栏可配置项" class="header-anchor">#</a> 工具栏可配置项</h4> <p>可通过一下方式获取当前编辑器工具栏可配置项</p> <div class="language-js extra-class"><pre class="language-js"><code>  Array<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span>editor<span class="token punctuation">.</span>ui<span class="token punctuation">.</span>componentFactory<span class="token punctuation">.</span><span class="token function">names</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre></div><h4 id="各builds支持的-plugins-api"><a href="#各builds支持的-plugins-api" class="header-anchor">#</a> 各builds支持的 plugins API</h4> <p>在页面中创建编辑器时，可以设置更改其许多方面的配置。对于Builds来说，均有自己默认的配置。</p> <p>当前所有的Builds均支持的配置：<code>CKFinderUploadAdapter</code>, <code>Autoformat</code>, <code>Bold</code>, <code>Italic</code>, <code>BlockQuote</code>, <code>CKFinder</code>, <code>EasyImage</code>, <code>Heading</code>, <code>Image</code>, <code>ImageCaption</code>, <code>ImageStyle</code>, <code>ImageToolbar</code>, <code>ImageUpload</code>, <code>Link</code>, <code>List</code>, <code>MediaEmbed</code>, <code>Paragraph</code>, <code>PasteFromOffice</code>, <code>Table</code>, <code>TableToolbar</code></p> <p>其中<code>Document editor</code>还支持：<code>Alignment</code>, <code>FontSize</code>, <code>FontFamily</code>, <code>Highlight</code>, <code>Strikethrough</code>, <code>Underline</code></p> <p>可以通过以下方式获取当前编辑器支持的配置项</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 以ClassicEditor为例</span>
ClassicEditor<span class="token punctuation">.</span>builtinPlugins<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span> <span class="token parameter">plugin</span> <span class="token operator">=&gt;</span> plugin<span class="token punctuation">.</span>pluginName <span class="token punctuation">)</span>\
</code></pre></div><p>对于不支持的插件，需要单独引入，配置到当前编辑器中</p> <h2 id="插件安装"><a href="#插件安装" class="header-anchor">#</a> 插件安装</h2> <h3 id="向已有builds添加插件"><a href="#向已有builds添加插件" class="header-anchor">#</a> 向已有builds添加插件</h3> <ol><li>下载builds库，安装其需要的插件。存放路径为项目中插件路径，即<code>项目目录\node_modules\@ckeditor</code></li></ol> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token function">git</span> clone -b stable https://github.com/ckeditor/ckeditor5-build-classic.git
<span class="token builtin class-name">cd</span> ckeditor5-build-classic
<span class="token function">npm</span> <span class="token function">install</span>
</code></pre></div><ol start="2"><li>安装需要添加的插件包，以<code>fontColor</code>为例</li></ol> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token function">npm</span> <span class="token function">install</span> --save-dev @ckeditor/ckeditor5-font
</code></pre></div><ol start="3"><li>将其添加到配置中，<code>src/ckeditor.js</code></li></ol> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> FontColor <span class="token keyword">from</span> <span class="token string">'@ckeditor/ckeditor5-font/src/fontcolor'</span><span class="token punctuation">;</span>

DecoupledEditor<span class="token punctuation">.</span>builtinPlugins <span class="token operator">=</span> <span class="token punctuation">[</span>
  <span class="token operator">...</span><span class="token punctuation">,</span>
  FontColor<span class="token punctuation">,</span>
  <span class="token operator">...</span>
<span class="token punctuation">]</span>

DecoupledEditor<span class="token punctuation">.</span>defaultConfig <span class="token operator">=</span> <span class="token punctuation">[</span>
  toolbar<span class="token operator">:</span> <span class="token punctuation">{</span>
    items<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token operator">...</span><span class="token punctuation">,</span>
      <span class="token string">'fontcolor'</span><span class="token punctuation">,</span>
      <span class="token operator">...</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">]</span>
</code></pre></div><ol start="4"><li>捆绑构建</li></ol> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token function">yarn</span> run build
</code></pre></div><ol start="5"><li>插件引入结束，接下来就可以在项目中，对新引入的插件进行配置使用了。</li></ol> <h3 id="icomm-editor"><a href="#icomm-editor" class="header-anchor">#</a> icomm-editor</h3> <ol><li>下载<code>icomm-editor</code>库，安装依赖</li></ol> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token function">git</span> clone git@gitlab.adc.com:oppo-front/icomm-ckeditor.git
<span class="token builtin class-name">cd</span> icomm-ckeditor
<span class="token function">npm</span> <span class="token function">install</span>
</code></pre></div><ol start="2"><li>安装需要添加的插件包，以<code>fontColor</code>为例</li></ol> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token function">npm</span> <span class="token function">install</span> --save-dev @ckeditor/ckeditor5-font
</code></pre></div><ol start="3"><li>将其添加到配置中，<code>src/ckeditor.js</code></li></ol> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> FontColor <span class="token keyword">from</span> <span class="token string">'@ckeditor/ckeditor5-font/src/fontcolor'</span><span class="token punctuation">;</span>

DecoupledEditor<span class="token punctuation">.</span>builtinPlugins <span class="token operator">=</span> <span class="token punctuation">[</span>
  <span class="token operator">...</span><span class="token punctuation">,</span>
  FontColor<span class="token punctuation">,</span>
  <span class="token operator">...</span>
<span class="token punctuation">]</span>

DecoupledEditor<span class="token punctuation">.</span>defaultConfig <span class="token operator">=</span> <span class="token punctuation">[</span>
  toolbar<span class="token operator">:</span> <span class="token punctuation">{</span>
    items<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token operator">...</span><span class="token punctuation">,</span>
      <span class="token string">'fontcolor'</span><span class="token punctuation">,</span>
      <span class="token operator">...</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">]</span>
</code></pre></div><ol start="4"><li>修改package.json版本号</li> <li>编译</li></ol> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token function">yarn</span> run build
</code></pre></div><ol start="6"><li>集成包发布onpm</li></ol> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token function">npm</span> publish
</code></pre></div><ol start="7"><li>可以通过onpm私库下载使用了，下载的依赖具有新集成的插件功能</li></ol> <blockquote><p>插件类型查看<a href="https://ckeditor.com/docs/ckeditor5/latest/api/index.html" target="_blank" rel="noopener noreferrer">官网API<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></blockquote></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">5/16/2020, 3:57:46 PM</span></div></footer> <div class="page-nav"><p class="inner"><!----> <span class="next"><a href="/blog/components/clipboard.html">
        复制粘贴
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/blog/assets/js/app.b9157d90.js" defer></script><script src="/blog/assets/js/2.536c8a71.js" defer></script><script src="/blog/assets/js/9.43eff6d8.js" defer></script><script src="/blog/assets/js/4.89b0f3d5.js" defer></script>
  </body>
</html>
